#include <bits/stdc++.h>
using namespace std;
int main(){
    long long t;
    cin>>t;
    while (t--){
        long long n,k;
        cin>>n>>k;
        vector<vector<long long>> store(n,vector<long long>(n,0));
        for (long long i=0;i<n;i++){
            for (long long j=0;j<n;j++){
                cin>>store[i][j];
            }
        }
        long long count=0;
        for (long long i=0;i<n;i++){
            for (long long j=0;j<n;j++){
                long long row=n-1-i;
                long long col=n-1-j;
                if (store[i][j]!=store[row][col]){
                    count++;
                }
            }
        }
        count=count/2;
        if (k<count){
            cout<<"No"<<endl;
        }
        else if (count==k){
            cout<<"Yes"<<endl;
        }
        else{
            k=k-count;
            if (k%2==0){
                cout<<"Yes"<<endl;
            }
            else{
                if (n%2==1){
                    cout<<"Yes"<<endl;
                }
                else{
                    cout<<"No"<<endl;
                }
            }
        }
        //T.C.:- O(n2);
        //S.C.:- O(n2);
    }
    return 0;
}
